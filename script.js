const data = {"sources":[{"id":1,"name":"meduza"},{"id":6,"name":"3dnews"},{"id":7,"name":"nytimes"},{"id":8,"name":"forbes"},{"id":9,"name":"igromania"},{"id":10,"name":"buro237"},{"id":11,"name":"rusvesna"},{"id":12,"name":"7ya"},{"id":14,"name":"aif"},{"id":15,"name":"gazetaru"},{"id":16,"name":"karpov.courses"}],"categories":[{"id":1,"name":"tech"},{"id":2,"name":"sport"},{"id":3,"name":"fashion"},{"id":4,"name":"politics"},{"id":5,"name":"other"},{"id":6,"name":"karpov.courses"}],"items":[{"id":428666,"lang":"ru","date":"Fri Oct 13 2023 14:14:23 GMT+0300 (Moscow Standard Time)","title":"Певица Ольга Серябкина снялась в платье с разрезами","description":"Певица Ольга Серябкина представила новый трек в откровенном образе. Снимками она поделилась в Instagram.\n\n38-летняя певица позировала в облегающем черном платье с глубоким декольте и разрезами. Серябкиной сделали мокрую укладку и вечерний ...","image":"http://img.gazeta.ru/files3/865/17727865/Snimok-ekrana-2023-10-13-v-13.37-pic905-895x505-54161.jpg","source_id":15,"category_id":3},{"id":428581,"lang":"ru","date":"Fri Oct 13 2023 14:14:07 GMT+0300 (Moscow Standard Time)","title":"Богомаз: ВС РФ уничтожили украинский БПЛА на подлете к Брянску","description":"","image":"https://aif-s3.aif.ru/images/034/317/464376856787bbbae760be29b295ffea.jpg","source_id":14,"category_id":5},{"id":428641,"lang":"ru","date":"Fri Oct 13 2023 14:14:00 GMT+0300 (Moscow Standard Time)","title":"«Герои Меча и Магии III» ворвутся в World of Warships на следующей неделе — трейлер и подробности кроссовера","description":"На дворе пятница, и астрологи с опозданием объявили неделю странных кроссоверов: в условно-бесплатном онлайн-экшене World of Warships от Wargaming появятся герои из культовой пошаговой стратегии Heroes of Might and Magic III.","image":"https://3dnews.ru/assets/external/illustrations/2023/10/13/1094434/00.jpg","source_id":6,"category_id":1},{"id":428588,"lang":"ru","date":"Fri Oct 13 2023 14:13:54 GMT+0300 (Moscow Standard Time)","title":"Полиция Якутска ищет выбросившую в окно коробку с котятами треш-стримершу","description":"Ее личность установлена.","image":"https://aif-s3.aif.ru/images/034/317/bf26796024cfe949813135eb38a6f21a.JPG","source_id":14,"category_id":5},{"id":428596,"lang":"ru","date":"Fri Oct 13 2023 14:12:20 GMT+0300 (Moscow Standard Time)","title":"На северо-востоке Афганистана у мечети прогремел взрыв","description":"Власти афганской провинции Баглан считают, что могут быть жертвы.","image":"https://aif-s3.aif.ru/images/034/317/90f3e4f0d67e6e65a92fdf45fc6b4c37.jpg","source_id":14,"category_id":5},{"id":428603,"lang":"ru","date":"Fri Oct 13 2023 14:12:14 GMT+0300 (Moscow Standard Time)","title":"В Госдуму внесли законопроект об отзыве ратификации ДВЗЯИ","description":"","image":"https://aif-s3.aif.ru/images/034/317/5fe9d5b97459a5823cae87c5c1f70871.jpg","source_id":14,"category_id":5},{"id":428608,"lang":"ru","date":"Fri Oct 13 2023 14:09:05 GMT+0300 (Moscow Standard Time)","title":"В ООН заявили о необходимости открытия гуманитарного коридора в Газу","description":"Официальный представитель ООН Равина Шамдасани заявила, что страны должны настоять на открытии гуманитарного коридора в Газу. Об этом она сообщила на брифинге, передает Reuters.\n\nПо ее словам, объявленная Израилем блокада сектора ведет к ...","image":"https://img.gazeta.ru/files3/729/17722729/upload-AP23284637421848-pic905-895x505-91032.jpg","source_id":15,"category_id":4},{"id":428612,"lang":"ru","date":"Fri Oct 13 2023 14:08:53 GMT+0300 (Moscow Standard Time)","title":"В ЛАГ осудили призыв Израиля эвакуировать население сектора Газа","description":"Генеральный секретарь Лиги арабских государств Генсек ЛАГ Ахмет Абульгейт от лица организации осудил призыв Армии обороны Израиля об эвакуации 1,1 млн палестинцев на юг сектора Газа. Об этом пишет РИА Новости.\n\nПо словам Абульгейта, это ...","image":"https://img.gazeta.ru/files3/706/16636706/shutterstock_2239526223-pic905-895x505-98445.jpg","source_id":15,"category_id":4},{"id":428584,"lang":"ru","date":"Fri Oct 13 2023 14:08:01 GMT+0300 (Moscow Standard Time)","title":"Miramax снимет сериал по мотивам хоррора «Хэллоуин»","description":"Кинокомпания Miramax получила разрешение правообладателей на создание сериала про маньяка-убийцу Майкла Майерса — главного героя хоррор-франшизы «Хэллоуин». Созданием займется продюсер Марк Хельвиг, ранее работавший над «Хэллбоем» и «Затерянными в космосе»","image":"","source_id":8,"category_id":5},{"id":428609,"lang":"ru","date":"Fri Oct 13 2023 14:04:00 GMT+0300 (Moscow Standard Time)","title":"SSD не отправят жёсткие диски на пенсию в ближайшие 10 лет — рынку HDD предсказали рост в 3,5 раза к 2033 году","description":"По итогам 2022 года рынок жёстких дисков продемонстрировал значительный рост и остановился на отметке около $36,5 млрд. Этот сегмент и далее ожидает положительная динамика со среднегодовыми темпами роста на 12 %, в результате чего к 2033 году он достигнет отметки $126,967 млрд. Таков прогноз аналитиков Future Market Insights.","image":"https://3dnews.ru/assets/external/illustrations/2023/10/13/1094431/hard-drive.jpg","source_id":6,"category_id":1},{"id":428611,"lang":"ru","date":"Fri Oct 13 2023 14:01:08 GMT+0300 (Moscow Standard Time)","title":"ЦАХАЛ объявил город Метула на севере Израиля запретной военной зоной","description":"Населенный пункт находится на границе с Ливаном.","image":"https://aif-s3.aif.ru/images/034/317/29c1c911de2e862004c007f2ab4e743f.jpg","source_id":14,"category_id":5},{"id":428615,"lang":"ru","date":"Fri Oct 13 2023 13:59:39 GMT+0300 (Moscow Standard Time)","title":"Президент Палестины Аббас выступил против призыва Израиля по эвакуации жителей Газы","description":"Президент Палестины Махмуд Аббас заявил государственному секретарю США Энтони Блинкену, что он выступает против призыва Израиля по перемещению проживающих в секторе Газа палестинцев. Его слова приводит Al Arabiya.\n\n\"Мы отвергаем ...","image":"https://img.gazeta.ru/files3/9/17728009/2023-10-13T081123Z_902771723_RC2KR3AOWUSI_RTRMADP_3_ISRAEL-PALESTINIANS-BLINKEN-pic905-895x505-13557.jpg","source_id":15,"category_id":4},{"id":428579,"lang":"ru","date":"Fri Oct 13 2023 13:58:48 GMT+0300 (Moscow Standard Time)","title":"ЦБ предупредил о новой схеме мошенников с «безопасным счетом в Центробанке»","description":"Мошенники начали использовать новую схему, предлагая жертвам спасти деньги от кражи, переведя их на «безопасный счет в Центробанке» и затем забрать на личном приеме. За месяц в ЦБ обратилось несколько десятков пострадавших, потери некоторых из них составляют «десятки миллионов рублей», рассказал регулятор","image":"","source_id":8,"category_id":5},{"id":428614,"lang":"ru","date":"Fri Oct 13 2023 13:58:35 GMT+0300 (Moscow Standard Time)","title":"Харатьян вспомнил, как Меньшов отказался вручать приз фильму «Сволочи»","description":"По его словам, режиссер считал, что давать премию такому фильму подло.","image":"https://aif-s3.aif.ru/images/034/317/23e3b12221c9057ff00fe316d18e8b73.png","source_id":14,"category_id":5},{"id":428613,"lang":"ru","date":"Fri Oct 13 2023 13:57:00 GMT+0300 (Moscow Standard Time)","title":"Canon начала продавать оборудование для выпуска 5-нм чипов без фотолитографии","description":"Долгое время отсутствие озабоченности американских властей способностью китайских компаний получать литографическое оборудование из Японии строилось на убеждении в том, что местные производители предлагают решения преимущественно для зрелой литографии. Canon на этой неделе разрушила этот миф, начав поставлять оборудование для изготовления 5-нм чипов, но использующее иной принцип работы, нежели машины лидирующей в данной сфере ASML.","image":"https://3dnews.ru/assets/external/illustrations/2023/10/13/1094423/p20170720a-02.jpg","source_id":6,"category_id":1},{"id":428617,"lang":"ru","date":"Fri Oct 13 2023 13:54:43 GMT+0300 (Moscow Standard Time)","title":"В Красном полумесяце оценили требования Израиля об эвакуации с севера Газы","description":"Представитель Красного полумесяца Палестины Нибал Фарсах заявила, призыв Израиля к эвакуации 1,1 миллиона местных жителей на юг сектора Газа в течение одних суток \"невозможно выполнить\". Ее слова приводит телеканал Al-Qahera ...","image":"https://img.gazeta.ru/files3/229/17727229/AP23285420875186-pic905-895x505-49564.jpg","source_id":15,"category_id":4},{"id":428672,"lang":"ru","date":"Fri Oct 13 2023 13:52:39 GMT+0300 (Moscow Standard Time)","title":"Воспаление мозга может привести к развитию неврологических расстройств у детей","description":"Ученые из Медицинской школы Университета Мэриленда в США обнаружили связь между воспалением мозга и риском развития шизофрении и аутизма у детей. Результаты исследования были опубликованы в журнале Science. \n\nВоспаление мозга - ...","image":"https://img.gazeta.ru/files3/965/16568965/upload-shutterstock_1176078337-pic905-895x505-43981.jpg","source_id":15,"category_id":1},{"id":428583,"lang":"ru","date":"Fri Oct 13 2023 13:51:36 GMT+0300 (Moscow Standard Time)","title":"Warner Bros однажды отказалась от мультфильма-кроссовера Mortal Kombat и DC","description":"","image":"https://newcdn.igromania.ru/articles/pics/tmp/images/2023/10/13/0149d497-cf93-4eb0-afbd-cd8faf4e42af.jpg","source_id":9,"category_id":1},{"id":428616,"lang":"ru","date":"Fri Oct 13 2023 13:49:51 GMT+0300 (Moscow Standard Time)","title":"Росгвардия может создать госинформсистему в сфере оборота оружия","description":"Соответствующий законопроект внесен на рассмотрение в Госдуму.","image":"https://aif-s3.aif.ru/images/034/316/f059709306389dfd48ef96f555f26d9e.jpg","source_id":14,"category_id":5},{"id":428667,"lang":"ru","date":"Fri Oct 13 2023 13:49:25 GMT+0300 (Moscow Standard Time)","title":"Модель Джейд Пауэр показала фигуру в белье после удаления груди","description":"Модель Джейд Пауэр вернулась к работе после 14 месяцев после мастэктомии. Об этом сообщает Daily Mail.\n\nПауэр снялась в рекламе нижнего белья Bravissimo. Модель позировала в розовом нижнем белье. Она надеялась, что фотографии покажут, что ...","image":"http://img.gazeta.ru/files3/829/17727829/379774768_577806464435008_4803489634137904311_n-pic905-895x505-54649.jpg","source_id":15,"category_id":3}]}
const mainNews = data.items.slice(0 ,3);
const smallNews = data.items.slice(3, 12);

const mainNewsContainer = document.querySelector('.articles__big-column');
const smallNewsContainer = document.querySelector('.articles__small-column');


const escapeString = (string) => {
    const symbols = {
        '&': '&amp;',
        '<': '&lt;',
        '>': '&gt;'
    }
    return string.replace(/[&<>]/g, (tag) =>{
        return symbols[tag] || tag;
    })
}

mainNews.forEach((item) => {
    const template = document.createElement('template');
    const category = data.categories.find((categoryItem) => categoryItem.id === item.category_id);
    const source = data.sources.find((sourceItem) => sourceItem.id === item.source_id);

    template.innerHTML = `
    <article class="main-article">
    <div class="main-article__image-container">
        <img class="main-article__image" src="${encodeURI(item.image)}" alt="Фото новости">
    </div>
    <div class="main-article__content">
        <span class="article-category main-article__category">${escapeString(category.name)}</span>
        <h2 class="main-article__title">${item.title}</h2>
        <p class="main-article__text">${item.description}</p>
        <span class="article-source main-article__source">${escapeString(source.name)}</span>
    </div>
</article>
    `

    mainNewsContainer.appendChild(template.content);
});

smallNews.forEach((item) => {
    const template = document.createElement('template');
    const source = data.sources.find((sourceItem) => sourceItem.id === item.source_id);
    const date = new Date(item.date).toLocaleDateString('ru-RU', {month:'long', day: 'numeric'});
    template.innerHTML = `
    <article class="small-article">
    <h2 class="small-article__title">${escapeString(item.title)}</h2>
    <p class="small-article__caption">
        <span class="article-date small-article__date">${date}</span>
        <span class="article-source small-article__source">${escapeString(source.name)}</span>
    </p>
</article>
    `;
    smallNewsContainer.appendChild(template.content);
});
